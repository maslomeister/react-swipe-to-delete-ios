import t,{useState as n,useRef as e,useCallback as r,useEffect as i}from"react";!function(t,n){void 0===n&&(n={});var e=n.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===e&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}("/* rstdi = react-swipe-to-delete-ios */\n\n.rstdi {\n  --rstdiHeight: 30px;\n  --rstdiTransitionDuration: 250ms;\n  --rstdiTranslate: 0px;\n  --rstdiIsRtl: 0;\n  --rstdiDeleteColor: rgba(252, 58, 48, 1);\n  --rstdiDeleteWidth: 75px;\n  --rstdiButtonMarginRight: 0px;\n  --rstdiButtonMarginLeft: 0px;\n\n  width: auto;\n  position: relative;\n  box-sizing: border-box;\n  overflow: hidden;\n  height: var(--rstdiHeight);\n  max-height: calc(var(--rstdiHeight) + 10px);\n}\n\n.rstdi *,\n.rstdi *:before,\n.rstdi *:after {\n  box-sizing: border-box;\n}\n\n.rstdi.deleting {\n  transition: all var(--rstdiTransitionDuration) ease-out;\n  max-height: 0;\n}\n\n.rstdi .content {\n  height: 100%;\n  width: auto;\n  position: relative;\n  transform: translateX(var(--rstdiTranslate));\n}\n\n.rstdi .content.transition {\n  transition: transform var(--rstdiTransitionDuration) ease-out;\n}\n\n.rstdi .content.deleting {\n  height: 100%;\n  width: auto;\n  position: relative;\n  transform: scale(0) translateX(var(--rstdiTranslate));\n}\n\n.rstdi .delete {\n  position: absolute;\n  right: 0;\n  height: 100%;\n  width: 100%;\n  top: 0;\n  background: var(--rstdiDeleteColor);\n  font-weight: 400;\n  display: inline-flex;\n  justify-content: flex-start;\n  align-items: center;\n}\n\n.rstdi .delete button {\n  width: var(--rstdiDeleteWidth);\n  transition: margin transform var(--rstdiTransitionDuration) ease-in-out;\n  margin-left: var(--rstdiButtonMarginLeft);\n  margin-right: var(--rstdiButtonMarginRight);\n  text-align: center;\n  height: 100%;\n  background: transparent;\n  border: none;\n  color: white;\n  font-size: 1rem;\n  cursor: pointer;\n}\n");var o=function(t){return t instanceof TouchEvent?t.touches[0].clientX:t instanceof MouseEvent?t.clientX:t.nativeEvent instanceof TouchEvent?t.nativeEvent.touches[0].clientX:t.nativeEvent.clientX},s=function(s){var d,a=s.onDelete,u=s.onDeleteConfirm,l=s.deleteComponent,c=s.disabled,v=void 0!==c&&c,h=s.height,m=void 0===h?50:h,f=s.transitionDuration,g=void 0===f?250:f,p=s.deleteWidth,w=void 0===p?75:p,x=s.deleteThreshold,E=void 0===x?75:x,y=s.showDeleteAction,T=void 0===y||y,D=s.deleteColor,b=void 0===D?"rgba(252, 58, 48, 1.00)":D,L=s.deleteText,C=void 0===L?"Delete":L,B=s.className,M=void 0===B?"":B,P=s.id,N=void 0===P?"":P,R=s.rtl,X=void 0!==R&&R,H=s.children,W=n(!1),k=W[0],z=W[1],S=n(0),A=S[0],I=S[1],j=n(!1),q=j[0],F=j[1],G=e(0),J=e(0),K=e(null),O=(null===(d=K.current)||void 0===d?void 0:d.getBoundingClientRect().width)||0,Q=O*(E/100),U=r((function(t){v||k||(G.current=o(t),J.current=A,z(!0))}),[v,k,A]);i((function(){var t=K.current;null==t||t.style.setProperty("--rstdiHeight",m+"px"),null==t||t.style.setProperty("--rstdiTransitionDuration",g+"ms"),null==t||t.style.setProperty("--rstdiIsRtl",X?"1":"-1"),null==t||t.style.setProperty("--rstdiDeleteColor",b),null==t||t.style.setProperty("--rstdiDeleteWidth",w+"px")}),[b,w,m,X,g]),i((function(){var t=K.current;null==t||t.style.setProperty("--rstdiTranslate",A*(X?-1:1)+"px");var n=-A>=Q;null==t||t.style.setProperty("--rstdiButtonMargin".concat(X?"Right":"Left"),(n?O+A:O-w)+"px")}),[A,w,O,X,Q]);var V=r((function(t){if(k)return!X&&o(t)>G.current-J.current||X&&o(t)<G.current-J.current?I(0):void I(o(t)-G.current+J.current)}),[X,k]),Y=r((function(t){V(t)}),[V]),Z=r((function(t){V(t)}),[V]),$=r((function(){F((function(){return!0})),window.setTimeout(a,g)}),[a,g]),_=r((function(){z((function(){return!1})),I((function(){return 0})),F((function(){return!1})),G.current=0,J.current=0}),[a,g]),tt=r((function(){u?u($,_):$()}),[u,$]),nt=r((function(){G.current=0;var t=.7*-w,n=!!T&&(X?-1:1)*A<t,e=!T||(X?-1:1)*A>=t,r=(X?1:-1)*A>=Q;r?I((function(){return-O})):e?I((function(){return 0})):n&&!r&&I((function(){return(X?1:-1)*w})),z((function(){return!1})),r&&tt()}),[O,w,Q,tt,X,A]);return i((function(){return k?(window.addEventListener("mousemove",Y),window.addEventListener("touchmove",Z),window.addEventListener("mouseup",nt),window.addEventListener("touchend",nt)):(window.removeEventListener("mousemove",Y),window.removeEventListener("touchmove",Z),window.removeEventListener("mouseup",nt),window.removeEventListener("touchend",nt)),function(){window.removeEventListener("mousemove",Y),window.removeEventListener("touchmove",Z),window.removeEventListener("mouseup",nt),window.removeEventListener("touchend",nt)}}),[Y,nt,Z,k]),t.createElement("div",{id:N,className:"rstdi".concat(q?" deleting":""," ").concat(M),ref:K},t.createElement("div",{className:"delete".concat(q?" deleting":"")},t.createElement("button",{onClick:tt},l||C)),t.createElement("div",{className:"content".concat(q?" deleting":"").concat(k?"":" transition"),onMouseDown:U,onTouchStart:U},H))};export{s as default};
//# sourceMappingURL=index.js.map
