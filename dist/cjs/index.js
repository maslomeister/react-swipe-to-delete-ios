"use strict";var t=require("react");function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var n=e(t);!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}("/* rstdi = react-swipe-to-delete-ios */\n\n.rstdi {\n  --rstdiHeight: 30px;\n  --rstdiTransitionDuration: 250ms;\n  --rstdiTranslate: 0px;\n  --rstdiIsRtl: 0;\n  --rstdiDeleteColor: rgba(252, 58, 48, 1);\n  --rstdiDeleteWidth: 75px;\n  --rstdiButtonMarginRight: 0px;\n  --rstdiButtonMarginLeft: 0px;\n\n  width: auto;\n  position: relative;\n  box-sizing: border-box;\n  overflow: hidden;\n  height: var(--rstdiHeight);\n  max-height: calc(var(--rstdiHeight) + 10px);\n}\n\n.rstdi *,\n.rstdi *:before,\n.rstdi *:after {\n  box-sizing: border-box;\n}\n\n.rstdi.deleting {\n  transition: all var(--rstdiTransitionDuration) ease-out;\n  max-height: 0;\n}\n\n.rstdi .content {\n  height: 100%;\n  width: auto;\n  position: relative;\n  transform: translateX(var(--rstdiTranslate));\n}\n\n.rstdi .content.transition {\n  transition: transform var(--rstdiTransitionDuration) ease-out;\n}\n\n.rstdi .content.deleting {\n  height: 100%;\n  width: auto;\n  position: relative;\n  transform: scale(0) translateX(var(--rstdiTranslate));\n}\n\n.rstdi .delete {\n  position: absolute;\n  right: 0;\n  height: 100%;\n  width: 100%;\n  top: 0;\n  background: var(--rstdiDeleteColor);\n  font-weight: 400;\n  display: inline-flex;\n  justify-content: flex-start;\n  align-items: center;\n}\n\n.rstdi .delete button {\n  width: var(--rstdiDeleteWidth);\n  transition: margin transform var(--rstdiTransitionDuration) ease-in-out;\n  margin-left: var(--rstdiButtonMarginLeft);\n  margin-right: var(--rstdiButtonMarginRight);\n  text-align: center;\n  height: 100%;\n  background: transparent;\n  border: none;\n  color: white;\n  font-size: 1rem;\n  cursor: pointer;\n}\n");var r=function(t){return t instanceof TouchEvent?t.touches[0].clientX:t instanceof MouseEvent?t.clientX:t.nativeEvent instanceof TouchEvent?t.nativeEvent.touches[0].clientX:t.nativeEvent.clientX};module.exports=function(e){var i,o=e.onDelete,s=e.onDeleteConfirm,a=e.deleteComponent,d=e.disabled,u=void 0!==d&&d,l=e.height,c=void 0===l?50:l,v=e.transitionDuration,f=void 0===v?250:v,h=e.deleteWidth,m=void 0===h?75:h,g=e.deleteThreshold,p=void 0===g?75:g,w=e.showDeleteAction,E=void 0===w||w,b=e.deleteColor,x=void 0===b?"rgba(252, 58, 48, 1.00)":b,y=e.deleteText,C=void 0===y?"Delete":y,T=e.className,D=void 0===T?"":T,L=e.id,k=void 0===L?"":L,R=e.rtl,B=void 0!==R&&R,M=e.children,P=t.useState(!1),N=P[0],S=P[1],X=t.useState(0),H=X[0],W=X[1],z=t.useState(!1),j=z[0],A=z[1],I=t.useRef(0),q=t.useRef(0),F=t.useRef(null),G=(null===(i=F.current)||void 0===i?void 0:i.getBoundingClientRect().width)||0,J=G*(p/100),K=t.useCallback((function(t){u||N||(I.current=r(t),q.current=H,S(!0))}),[u,N,H]);t.useEffect((function(){var t=F.current;null==t||t.style.setProperty("--rstdiHeight",c+"px"),null==t||t.style.setProperty("--rstdiTransitionDuration",f+"ms"),null==t||t.style.setProperty("--rstdiIsRtl",B?"1":"-1"),null==t||t.style.setProperty("--rstdiDeleteColor",x),null==t||t.style.setProperty("--rstdiDeleteWidth",m+"px")}),[x,m,c,B,f]),t.useEffect((function(){var t=F.current;null==t||t.style.setProperty("--rstdiTranslate",H*(B?-1:1)+"px");var e=-H>=J;null==t||t.style.setProperty("--rstdiButtonMargin".concat(B?"Right":"Left"),(e?G+H:G-m)+"px")}),[H,m,G,B,J]);var O=t.useCallback((function(t){if(N)return!B&&r(t)>I.current-q.current||B&&r(t)<I.current-q.current?W(0):void W(r(t)-I.current+q.current)}),[B,N]),Q=t.useCallback((function(t){O(t)}),[O]),U=t.useCallback((function(t){O(t)}),[O]),V=t.useCallback((function(){A((function(){return!0})),window.setTimeout(o,f)}),[o,f]),Y=t.useCallback((function(){S((function(){return!1})),W((function(){return 0})),A((function(){return!1})),I.current=0,q.current=0}),[o,f]),Z=t.useCallback((function(){s?s(V,Y):V()}),[s,V]),$=t.useCallback((function(){I.current=0;var t=.7*-m,e=!!E&&(B?-1:1)*H<t,n=!E||(B?-1:1)*H>=t,r=(B?1:-1)*H>=J;r?W((function(){return-G})):n?W((function(){return 0})):e&&!r&&W((function(){return(B?1:-1)*m})),S((function(){return!1})),r&&Z()}),[G,m,J,Z,B,H]);return t.useEffect((function(){return N?(window.addEventListener("mousemove",Q),window.addEventListener("touchmove",U),window.addEventListener("mouseup",$),window.addEventListener("touchend",$)):(window.removeEventListener("mousemove",Q),window.removeEventListener("touchmove",U),window.removeEventListener("mouseup",$),window.removeEventListener("touchend",$)),function(){window.removeEventListener("mousemove",Q),window.removeEventListener("touchmove",U),window.removeEventListener("mouseup",$),window.removeEventListener("touchend",$)}}),[Q,$,U,N]),n.default.createElement("div",{id:k,className:"rstdi".concat(j?" deleting":""," ").concat(D),ref:F},n.default.createElement("div",{className:"delete".concat(j?" deleting":"")},n.default.createElement("button",{onClick:Z},a||C)),n.default.createElement("div",{className:"content".concat(j?" deleting":"").concat(N?"":" transition"),onMouseDown:K,onTouchStart:K},M))};
//# sourceMappingURL=index.js.map
